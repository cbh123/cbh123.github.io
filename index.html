<!DOCTYPE html>
<html lang="en">
<head>
  <title>Debit Note Generator</title>
  <meta charset="utf-8">
 <link rel="stylesheet" href="main.css">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Allerta">
	<link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
  <script src="jquery-3.1.1.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js">
	</script>
</head> 

<body>

<!---------------------------------------------------------------------------------------->
	
<script>
	
  
  var debits = [];
  var dockets = [];
  var start = 1;
  var chistory = [];
 
		
	
  
    function generateNum() {
		
        document.getElementById('deb').value = start;
		
		// saves user input as docketInput
		var docketInput = document.getElementById('doc').value;
		
		// pushes to chistory
	  	chistory.push({debitNumber: start, docketNumber: docketInput });
		start = start + 1;
		
		// adds to history
		document.getElementById("testerCheck").innerHTML = "testcheck" + 					    (JSON.stringify(chistory, null, 4));
			
			
	}
	
	
	
	
	function search() {
		var debitSearch = (document.getElementById('searchInput').value - 0);

		var result = null;    
		
		for (var i = 0; i < chistory.length; i++) {
    	if (chistory[i].debitNumber == debitSearch) {
        result = chistory[i];
        break;
    } else {
		
		document.getElementById("searchResult").innerHTML = "Error, not found.";
	}
}
		
	    var result2 = result.docketNumber;
		
		document.getElementById("searchResult").innerHTML = result2;
		document.getElementById("searchText1").innerHTML = "Associated Docket Number:";			}
	

    
	//n eeds fixing!!
	function search2() {
		var docketSearch = (document.getElementById('searchInput2').value - 0);

		var result = -1;   
		var resultArray = [];
		
		for (var i = 0; i < chistory.length; i++) {
    	if (chistory[i].docketNumber == docketSearch) {
        result = chistory[i].debitNumber;
        resultArray.push(result);
			
    } else {
		document.getElementById("searchResult2").innerHTML = "Error, not found.";
	}
}
		
		var resultPls = resultArray;
		
		if (resultPls.length > 1) {
		document.getElementById("searchText2").innerHTML = "Associated Debit Numbers:";
		} else if (resultPls.length == 1) {
		document.getElementById("searchText2").innerHTML = "Associated Debit Number:";
			
		} else {
			document.getElementById("searchText2").innerHTML = "No associated Debit Number.";
		}
		
		
		
			
		document.getElementById("searchResult2").innerHTML = resultPls;
			
	}
	
//	$('input').keypress(function(event) {
//		if (event.which == 13) {
//			event.preventDefault();
//			$('form').submit();
//		}
//	});
	
  function copyToClipboard(text) {
  window.prompt("Copy to clipboard: Ctrl+C", start - 1);
}
	
//	function voider() {
//		
//	alert("Please enter the associated docket number you would like to delete from the system");
//    var alert = prompt("Please enter the associated docket number you would like to delete from the system");
//
//		
//
//   document.getElementById("searchResult2").innerHTML = "2";
//	}
	
	
	
	
	
	
	
	
	
</script>
	
<!---------------------------------------------------------------------------------------->

<div class="everything">
	
<div class="container1">

	<p></p>
  <h1 style="color:black">Debit Note Generator</h1>
</div>
  
	
	
  <div class="box1">
   
	 
	<span class="inputWithButton">	
		
		<input type="text" id="doc" name="theDocketInput" placeholder="enter docket number" onfocus="this.placeholder = ''" onblur="this.placeholder = 'enter docket number'"><button id="mysubmit" onclick="generateNum()" class="submitter" readonly>enter</button>
	</span>

  </div>
	
	
  					<p></p>
  
  
  <div class = "box2">

	 <p class="DNN">Debit Note Number: </p>
	  <p class="subtext">(click to copy)</p>
  <input type="text" id="deb" class="btn2" style="font-size:60px; border-color:lightblue" onclick="copyToClipboard(document.getElementById('deb').innerHTML)" readonly></input>  
	
<!--  <button id="voidbutton" class="btn btn-danger btn-xs" onclick="=voider()">Void</button>-->
	  
  </div>
	
					<p></p>
	
<div class="box3">
	<p>Search by Debit Number:</p>
	
	<span class="inputWithButton2">
  		<input type="text" id="searchInput"><button id="searchButton"  onclick="search()" class="submitter2">submit</button>
	</span>
	
    <p></p>

<p id="searchText1"></p><p id="searchResult"></p>

 </div>

				<p></p>

<div class="box4">
	<p>Search by Docket Number:</p>
	
	<span class="inputWithButton2">
  		<input type="text" id="searchInput2"><button id="searchButton" onclick="search2()" class="submitter2">submit</button>
	</span>

    <p></p>

<p id="searchText2"></p><p id="searchResult2"></p>

 </div>
	
		<p></p>

<div class="box5">
	<p>History: (for testing purposes)</p>
	<p id="testerCheck"></p>
 </div>
	

<p></p>
	
	
</div>
  
</body>
</html>
